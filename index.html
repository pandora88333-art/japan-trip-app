<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ—¥æœ¬æ±åŒ—æ»‘é›ªè¡Œ ğŸ¿</title>
    <!-- å¼•å…¥ Tailwind CSS (æ¨£å¼) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- å¼•å…¥ Babel (è®“ç€è¦½å™¨çœ‹ä¸æ‡‚ JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* éš±è—æ»¾å‹•æ¢ä½†ä¿ç•™åŠŸèƒ½ï¼Œè®“æ‰‹æ©Ÿé«”é©—æ›´å¥½ */
        body { -webkit-tap-highlight-color: transparent; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <div id="root"></div>

    <script type="text/babel">
        // --- ç°¡æ˜“åœ–æ¨™çµ„ä»¶ (Inline SVG ä»¥é¿å…ä¾è³´å•é¡Œ) ---
        const Icons = {
            Calendar: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>,
            MapPin: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>,
            Plane: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 12h5l2 5h7l2-5h4l2-5H2Z"/></svg>, // Simplified plane
            Train: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="16" height="16" x="4" y="3" rx="2"/><path d="M4 11h16"/><path d="M12 3v8"/><path d="m8 19-2 3"/><path d="m18 22-2-3"/><circle cx="8" cy="15" r="1"/><circle cx="16" cy="15" r="1"/></svg>,
            Hotel: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M10 22v-6.57"/><path d="M12 11h.01"/><path d="M12 7h.01"/><path d="M14 15.43V22"/><path d="M15 16a5 5 0 0 0-6 0"/><path d="M16 11h.01"/><path d="M16 7h.01"/><path d="M8 11h.01"/><path d="M8 7h.01"/><rect x="4" y="2" width="16" height="20" rx="2"/></svg>,
            Utensils: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>,
            CloudRain: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 14v6"/><path d="M8 14v6"/><path d="M12 16v6"/></svg>,
            Sun: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>,
            Snowflake: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/><path d="m20 16-4-4 4-4"/><path d="m4 8 4 4-4 4"/><path d="m16 4-4 4-4-4"/><path d="m8 20 4-4 4 4"/></svg>,
            Clock: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            ChevronRight: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>,
            ChevronDown: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>,
            Navigation: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>,
            Info: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
        };

        const Icon = ({ name, className }) => {
            const IconComp = Icons[name] || Icons.MapPin;
            return <div className={className}><IconComp /></div>;
        };

        // --- è³‡æ–™å€ ---
        const tripData = [
          {
            day: 1,
            date: "12/15",
            weekday: "é€±æ—¥",
            title: "æ±äº¬æŠµé”æ—¥",
            location: "æ±äº¬ (Tokyo)",
            weather: "cloudy", 
            temp: "8Â°C - 14Â°C",
            clothing: "æ´‹è”¥å¼ç©¿æ­ï¼Œé€²å®¤å…§æœ‰æš–æ°£ã€‚å»ºè­°ç™¼ç†±è¡£+æ¯›è¡£+é˜²é¢¨å¤–å¥—ã€‚",
            stay: "MYSTAYS å¾¡èŒ¶ä¹‹æ°´ (æœƒè­°ä¸­å¿ƒ)",
            stayAddress: "æ±äº¬éƒ½åƒä»£ç”°å€ç¥ç”°æ·¡è·¯ç”º2-10-6",
            activities: [
              { time: "16:25", type: "flight", title: "é£›å¾€æ±äº¬", detail: "CI0106 TPE(T2) -> NRT(T2)", icon: "Plane" },
              { time: "21:00", type: "transport", title: "SKYLINER é€²å¸‚å€", detail: "æˆç”°T2 -> äº¬æˆä¸Šé‡ (ç´„41åˆ†, Â¥2570)", icon: "Train" },
              { time: "22:00", type: "transport", title: "è½‰ä¹˜ JR å±±æ‰‹ç·š", detail: "ä¸Šé‡ -> ç§‹è‘‰åŸ (4åˆ†é˜)", icon: "Train" },
              { time: "22:30", type: "hotel", title: "é£¯åº— Check-in", detail: "å¾ç§‹è‘‰åŸç«™æ­¥è¡Œ10-12åˆ†é˜", icon: "Hotel" }
            ]
          },
          {
            day: 2,
            date: "12/16",
            weekday: "é€±ä¸€",
            title: "çš‡å±…ï¼æ·ºè‰ï¼æ™´ç©ºå¡”",
            location: "æ±äº¬ (Tokyo)",
            weather: "sunny",
            temp: "6Â°C - 13Â°C",
            clothing: "æˆ¶å¤–èµ°è·¯å¤šï¼Œå»ºè­°ç©¿å¥½èµ°çš„é‹å­ã€‚æ—©æ™šæº«å·®å¤§ï¼Œåœå·¾å‚™ç”¨ã€‚",
            stay: "MYSTAYS å¾¡èŒ¶ä¹‹æ°´ (æœƒè­°ä¸­å¿ƒ)",
            stayAddress: "æ±äº¬éƒ½åƒä»£ç”°å€ç¥ç”°æ·¡è·¯ç”º2-10-6",
            activities: [
              { time: "09:00", type: "spot", title: "çš‡å±…å¤–è‹‘ (äºŒé‡æ©‹)", detail: "äº¤é€šï¼šå¾¡èŒ¶ä¹‹æ°´ -> æ±äº¬ç«™ -> æ­¥è¡Œ", icon: "MapPin" },
              { time: "11:00", type: "spot", title: "æ±äº¬è»Šç«™ä¸€ç•ªè¡—", detail: "åˆé¤æ™‚é–“ (Jump Shopåœ¨æ­¤)", icon: "Utensils" },
              { time: "13:00", type: "spot", title: "æ·ºè‰å¯º & é›·é–€", detail: "äº¤é€šï¼šæ±äº¬(ä¸¸ä¹‹å…§) -> éŠ€åº§ -> æ·ºè‰", icon: "MapPin" },
              { time: "15:30", type: "spot", title: "æ±äº¬æ™´ç©ºå¡” (é ç´„)", detail: "äº¤é€šï¼šæ·ºè‰ -> æŠ¼ä¸Š (æ™´ç©ºå¡”ç·šæˆ–æ­¥è¡Œ)", icon: "MapPin" },
              { time: "18:30", type: "spot", title: "ç§‹è‘‰åŸå‹•æ¼«å·¡ç¦®", detail: "äº¤é€šï¼šæŠ¼ä¸Š(åŠè—é–€) -> éŒ¦ç³¸ç”º(ç¸½æ­¦) -> ç§‹è‘‰åŸ", icon: "MapPin" },
              { time: "19:30", type: "food", title: "æ™šé¤é¸é …", detail: "1. è‚‰å±‹æ©«ä¸(ç‡’è‚‰) 2. Dohtonbori(å¤§é˜ªç‡’)", icon: "Utensils" }
            ]
          },
          {
            day: 3,
            date: "12/17",
            weekday: "é€±äºŒ",
            title: "åŸå®¿ï¼æ¾€è°·ï¼æ± è¢‹",
            location: "æ±äº¬ (Tokyo)",
            weather: "sunny",
            temp: "5Â°C - 12Â°C",
            clothing: "é€›è¡—è¡Œç¨‹ï¼Œè¼•ä¾¿ä¿æš–ç‚ºä¸»ã€‚å»ºè­°æ”œå¸¶è³¼ç‰©è¢‹ã€‚",
            stay: "MYSTAYS å¾¡èŒ¶ä¹‹æ°´ (æœƒè­°ä¸­å¿ƒ)",
            stayAddress: "æ±äº¬éƒ½åƒä»£ç”°å€ç¥ç”°æ·¡è·¯ç”º2-10-6",
            activities: [
              { time: "10:00", type: "spot", title: "åŸå®¿ & ç«¹ä¸‹é€š", detail: "å¾¡èŒ¶ä¹‹æ°´ -> ä»£ä»£æœ¨ -> åŸå®¿", icon: "MapPin" },
              { time: "11:30", type: "spot", title: "è¡¨åƒé“ & Kiddy Land", detail: "æ­¥è¡Œå‰å¾€ï¼Œç²¾å“è¡—æ•£æ­¥", icon: "MapPin" },
              { time: "13:00", type: "spot", title: "æ¾€è°· (MODI/åå­—è·¯å£)", detail: "åˆé¤ï¼šå¸ƒä¸ç‹—/ç‰¡è £å±‹/è›‹åŒ…é£¯", icon: "Utensils" },
              { time: "14:20", type: "spot", title: "æ¾€è°· SKY (é ç´„)", detail: "çµ•ç¾é«˜ç©ºæ™¯è§€", icon: "MapPin" },
              { time: "17:00", type: "spot", title: "æ± è¢‹å‹•æ¼«è–åœ°", detail: "Animateç¸½åº—ã€Sunshine City", icon: "MapPin" },
              { time: "21:00", type: "transport", title: "å›é£¯åº—", detail: "æ± è¢‹(å±±æ‰‹ç·š) -> å¾¡èŒ¶ä¹‹æ°´", icon: "Train" }
            ]
          },
          {
            day: 4,
            date: "12/18",
            weekday: "é€±ä¸‰",
            title: "ç§»å‹•æ—¥ï¼šå‰å¾€è—ç‹æº«æ³‰",
            location: "è—ç‹ (Zao)",
            weather: "snow",
            temp: "-5Â°C - 0Â°C",
            clothing: "é€²å…¥é›ªåœ‹ï¼é˜²æ°´é´ã€ç¾½çµ¨å¤–å¥—ã€æ‰‹å¥—ã€æ¯›å¸½å¿…å‚™ã€‚æ³¨æ„é˜²æ»‘ã€‚",
            stay: "é«˜å®®ç‰ç’ƒæ¸¡å‡é…’åº— (Rurikura Resort)",
            stayAddress: "Zao Onsen Sandogawa 1118-7, Yamagata",
            activities: [
              { time: "09:00", type: "shop", title: "å¾¡èŒ¶æ°´è²·æ»‘é›ªè£å‚™", detail: "æŠŠæ¡æœ€å¾Œå¸‚å€æ¡è³¼æ©Ÿæœƒ", icon: "MapPin" },
              { time: "11:00", type: "transport", title: "å‰å¾€æ±äº¬è»Šç«™", detail: "å¾¡èŒ¶ä¹‹æ°´(ä¸­å¤®ç·šå¿«é€Ÿ) -> æ±äº¬ç«™", icon: "Train" },
              { time: "12:00", type: "transport", title: "å±±å½¢æ–°å¹¹ç·š", detail: "æ±äº¬ -> å±±å½¢ç«™ (ã¤ã°ã•è™Ÿ, ç´„2.5hr)", icon: "Train" },
              { time: "15:00", type: "transport", title: "å·´å£«ä¸Šå±±", detail: "å±±å½¢ç«™æ±å£ -> è—ç‹æº«æ³‰å·´å£«ç«™ (ç´„40åˆ†)", icon: "Train" },
              { time: "16:00", type: "hotel", title: "Check-in", detail: "æ­¥è¡Œæˆ–æ¥é§è‡³é«˜å®®ç‰ç’ƒé…’åº—", icon: "Hotel" }
            ]
          },
          {
            day: 5,
            date: "12/19",
            weekday: "é€±å››",
            title: "è—ç‹æ»‘é›ªæ—¥",
            location: "è—ç‹ (Zao)",
            weather: "snow",
            temp: "-6Â°C - -2Â°C",
            clothing: "å…¨å¥—æ»‘é›ªè£å‚™ã€‚æ³¨æ„ä¿æš–èˆ‡æ°´åˆ†è£œå……ã€‚",
            stay: "é«˜å®®ç‰ç’ƒæ¸¡å‡é…’åº— (Rurikura Resort)",
            stayAddress: "Zao Onsen Sandogawa 1118-7, Yamagata",
            activities: [
              { time: "10:00", type: "spot", title: "ç§Ÿå€Ÿè£å‚™", detail: "æº–å‚™ä¸Šèª²", icon: "Snowflake" },
              { time: "11:00", type: "spot", title: "æ»‘é›ªèª²ç¨‹", detail: "11:00 - 17:00", icon: "Snowflake" },
              { time: "18:00", type: "food", title: "æº«æ³‰æ™šé¤", detail: "äº«å—é£¯åº—æº«æ³‰èˆ‡ç¾é£Ÿ", icon: "Utensils" }
            ]
          },
          {
            day: 6,
            date: "12/20",
            weekday: "é€±äº”",
            title: "è—ç‹æ¨¹å†° -> ä»™å°",
            location: "ä»™å° (Sendai)",
            weather: "cloudy",
            temp: "1Â°C - 6Â°C",
            clothing: "å±±ä¸Šæ¥µå†·éœ€é‡è£ï¼Œä¸‹å±±å¾Œä»™å°å¸‚å€ä¸€èˆ¬å†¬è£å³å¯ã€‚",
            stay: "ä»™å°è’™ç‰¹åˆ©é…’åº— (Monterey Sendai)",
            stayAddress: "å®®åŸç¸£ä»™å°å¸‚é’è‘‰å€ä¸­å¤®4-1-8",
            activities: [
              { time: "09:00", type: "spot", title: "è—ç‹æ¨¹å†°", detail: "æ­ä¹˜çºœè»Šæ¬£è³æ¨¹å†°å¥‡æ™¯", icon: "Snowflake" },
              { time: "13:00", type: "transport", title: "å‰å¾€ä»™å°", detail: "1. è—ç‹å·´å£«ç«™ -> å±±å½¢ç«™ (å·´å£« 40åˆ†)\n2. å±±å½¢ç«™ -> ä»™å°ç«™ (JRä»™å±±ç·š ç´„75åˆ†)", icon: "Train" },
              { time: "15:30", type: "hotel", title: "Check-in ä»™å°", detail: "è’™ç‰¹åˆ©é…’åº— (æ­é¢¨å»ºç¯‰)", icon: "Hotel" },
              { time: "17:00", type: "spot", title: "ä¸€ç•ªç”ºé€›è¡—", detail: "ä»™å°å¸‚å€è³¼ç‰©", icon: "MapPin" }
            ]
          },
          {
            day: 7,
            date: "12/21",
            weekday: "é€±å…­",
            title: "éŠ€å±±æº«æ³‰ & ç‹ç‹¸æ‘",
            location: "å®®åŸ (Miyagi)",
            weather: "snow",
            temp: "-2Â°C - 3Â°C",
            clothing: "æˆ¶å¤–è¡Œç¨‹å¤šï¼ŒéŠ€å±±æº«æ³‰å¯èƒ½ç©é›ªï¼Œé‹å­éœ€é˜²æ»‘ã€‚",
            stay: "ä»™å°è’™ç‰¹åˆ©é…’åº— (Monterey Sendai)",
            stayAddress: "å®®åŸç¸£ä»™å°å¸‚é’è‘‰å€ä¸­å¤®4-1-8",
            activities: [
              { time: "08:30", type: "spot", title: "å¥—è£è¡Œç¨‹é›†åˆ", detail: "å‡ºç™¼å‰å¾€è—ç‹ç‹ç‹¸æ‘", icon: "Navigation" },
              { time: "10:00", type: "spot", title: "è—ç‹ç‹ç‹¸æ‘", detail: "æŠ±ç‹ç‹¸é«”é©—", icon: "MapPin" },
              { time: "14:00", type: "spot", title: "éŠ€å±±æº«æ³‰", detail: "å¤§æ­£æµªæ¼«è¡—æ™¯", icon: "MapPin" },
              { time: "18:00", type: "transport", title: "è¿”å›ä»™å°", detail: "å°ˆè»Šè¿”å›", icon: "Train" }
            ]
          },
          {
            day: 8,
            date: "12/22",
            weekday: "é€±æ—¥",
            title: "ä»™å°å¸‚å€ -> æˆç”°",
            location: "ä»™å°/æˆç”°",
            weather: "cloudy",
            temp: "2Â°C - 9Â°C",
            clothing: "å¸‚å€è§€å…‰ç‚ºä¸»ï¼Œèˆ’é©ä¿æš–å³å¯ã€‚",
            stay: "MYSTAYS æˆç”°ç²¾å“é…’åº—",
            stayAddress: "åƒè‘‰ç¸£æˆç”°å¸‚å°å±±31",
            activities: [
              { time: "09:00", type: "spot", title: "ç‘é³³æ®¿ & åŸè·¡å…¬åœ’", detail: "ä¼Šé”æ”¿å®—æ­·å²å·¡ç¦®", icon: "MapPin" },
              { time: "11:00", type: "spot", title: "å¤§å´å…«å¹¡å®®", detail: "åœ‹å¯¶ç¥ç¤¾", icon: "MapPin" },
              { time: "15:00", type: "transport", title: "æ–°å¹¹ç·šå›ä¸Šé‡", detail: "ä»™å° -> ä¸Šé‡ (éš¼è™Ÿ Hayabusa)", icon: "Train" },
              { time: "17:00", type: "transport", title: "å‰å¾€æˆç”°", detail: "ä¸Šé‡ -> æˆç”° (Skyliner)", icon: "Train" },
              { time: "19:00", type: "hotel", title: "Check-in", detail: "æ©Ÿå ´é™„è¿‘é£¯åº—ä¼‘æ¯", icon: "Hotel" }
            ]
          },
          {
            day: 9,
            date: "12/23",
            weekday: "é€±ä¸€",
            title: "è¿”å°æ—¥",
            location: "æˆç”° (Narita)",
            weather: "sunny",
            temp: "6Â°C - 13Â°C",
            clothing: "æº–å‚™æ­æ©Ÿï¼Œå»ºè­°ç©¿è‘—èˆ’é©å¯¬é¬†ã€‚",
            stay: "æº«æš–çš„å®¶",
            stayAddress: "",
            activities: [
              { time: "09:00", type: "spot", title: "æˆç”°å±±æ–°å‹å¯º (å¯é¸)", detail: "æˆç”°åŠæ—¥éŠ", icon: "MapPin" },
              { time: "14:30", type: "transport", title: "å‰å¾€æ©Ÿå ´å ±åˆ°", detail: "æˆç”°æ©Ÿå ´ T2", icon: "Plane" },
              { time: "17:30", type: "flight", title: "é£›å¾€å°åŒ—", detail: "CI0109 NRT(T2) -> TPE(T2)", icon: "Plane" }
            ]
          }
        ];

        // --- çµ„ä»¶ ---

        const WeatherIcon = ({ type }) => {
            switch (type) {
                case 'snow': return <div className="text-blue-300"><Icon name="Snowflake" className="w-8 h-8" /></div>;
                case 'rain': return <div className="text-blue-400"><Icon name="CloudRain" className="w-8 h-8" /></div>;
                case 'sunny': return <div className="text-yellow-400"><Icon name="Sun" className="w-8 h-8" /></div>;
                default: return <div className="text-gray-400"><Icon name="CloudRain" className="w-8 h-8" /></div>;
            }
        };

        const openMap = (location) => {
            const query = encodeURIComponent(location);
            window.open(`https://www.google.com/maps/search/?api=1&query=${query}`, '_blank');
        };

        const DayCard = ({ dayData, isExpanded, onToggle }) => {
            return (
                <div className="bg-white rounded-xl shadow-sm mb-4 border border-gray-100 overflow-hidden">
                    <div 
                        onClick={onToggle}
                        className={`p-4 flex items-center justify-between cursor-pointer transition-colors ${isExpanded ? 'bg-blue-50' : 'active:bg-gray-50'}`}
                    >
                        <div className="flex items-center gap-4">
                            <div className="flex flex-col items-center justify-center w-12 h-12 bg-blue-100 rounded-lg text-blue-700 font-bold">
                                <span className="text-xs">Day</span>
                                <span className="text-lg">{dayData.day}</span>
                            </div>
                            <div>
                                <div className="flex items-center gap-2">
                                    <h3 className="font-bold text-gray-800">{dayData.date} {dayData.weekday}</h3>
                                    {dayData.weather === 'snow' && <div className="text-blue-400"><Icon name="Snowflake" className="w-4 h-4" /></div>}
                                </div>
                                <p className="text-sm text-gray-600 line-clamp-1">{dayData.title}</p>
                            </div>
                        </div>
                        <div className="text-gray-400">
                             {isExpanded ? <Icon name="ChevronDown" className="w-5 h-5"/> : <Icon name="ChevronRight" className="w-5 h-5"/>}
                        </div>
                    </div>

                    {isExpanded && (
                        <div className="p-4 border-t border-gray-100 bg-gray-50/50">
                            {/* å¤©æ°£æ¦‚æ³ */}
                            <div className="mb-4 p-3 bg-blue-50 rounded-lg flex items-start gap-3">
                                <div className="text-blue-600 mt-0.5"><Icon name="Info" className="w-5 h-5" /></div>
                                <div className="text-sm text-blue-800">
                                    <span className="font-bold block mb-1">ä»Šæ—¥æƒ…å ± ({dayData.location})</span>
                                    <p className="mb-1">ğŸŒ¡ï¸ æ°£æº«ï¼š{dayData.temp}</p>
                                    <p>ğŸ‘• {dayData.clothing}</p>
                                </div>
                            </div>

                            {/* è¡Œç¨‹æ™‚é–“è»¸ */}
                            <div className="space-y-4 relative pl-2">
                                <div className="absolute left-[11px] top-2 bottom-2 w-0.5 bg-gray-200"></div>
                                {dayData.activities.map((act, idx) => (
                                    <div key={idx} className="relative flex gap-4 items-start">
                                        <div className="z-10 bg-white p-1 rounded-full border border-gray-200 shrink-0">
                                            <div className="bg-blue-100 p-1.5 rounded-full text-blue-600">
                                                <Icon name={act.icon} className="w-4 h-4" />
                                            </div>
                                        </div>
                                        <div className="flex-1 bg-white p-3 rounded-lg border border-gray-100 shadow-sm">
                                            <div className="flex justify-between items-start">
                                                <span className="font-bold text-blue-600 text-sm">{act.time}</span>
                                                <button 
                                                    onClick={(e) => { e.stopPropagation(); openMap(act.title + " " + dayData.location); }}
                                                    className="text-gray-400 hover:text-blue-500 p-1"
                                                >
                                                    <Icon name="MapPin" className="w-4 h-4" />
                                                </button>
                                            </div>
                                            <h4 className="font-bold text-gray-800">{act.title}</h4>
                                            <p className="text-sm text-gray-600 whitespace-pre-line">{act.detail}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>

                            {/* ä½å®¿è³‡è¨Š */}
                            {dayData.stay && (
                                <div className="mt-6 pt-4 border-t border-gray-200">
                                    <h4 className="text-sm font-bold text-gray-500 mb-2 flex items-center gap-2">
                                        <Icon name="Hotel" className="w-4 h-4" /> ä½å®¿è³‡è¨Š
                                    </h4>
                                    <div className="bg-slate-800 text-white p-4 rounded-xl shadow-lg">
                                        <p className="font-bold text-lg mb-1">{dayData.stay}</p>
                                        <p className="text-slate-300 text-sm mb-3">{dayData.stayAddress}</p>
                                        <button 
                                            onClick={() => openMap(dayData.stay)}
                                            className="w-full bg-blue-600 hover:bg-blue-500 active:bg-blue-700 text-white py-2 rounded-lg text-sm font-medium transition-colors"
                                        >
                                            å°èˆªè‡³é£¯åº—
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        };

        const Dashboard = ({ currentDayData, daysUntil }) => {
            return (
                <div className="space-y-4">
                    {/* å€’æ•¸è¨ˆæ™‚å¡ */}
                    <div className="bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl p-6 text-white shadow-xl relative overflow-hidden">
                        <div className="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-8 -mt-8 blur-2xl"></div>
                        <div className="relative z-10">
                            <p className="text-blue-100 text-sm font-medium mb-1">Trip Status</p>
                            <div className="flex items-end gap-2">
                                <h2 className="text-4xl font-bold">
                                    {daysUntil > 0 ? `${daysUntil} å¤©` : daysUntil === 0 ? "ä»Šå¤©" : "æ—…ç¨‹ä¸­"}
                                </h2>
                                <span className="text-blue-200 mb-1.5">{daysUntil > 0 ? "å¾Œå‡ºç™¼" : ""}</span>
                            </div>
                            <p className="mt-4 text-sm bg-white/20 inline-block px-3 py-1 rounded-full backdrop-blur-sm">
                                ä¸‹ä¸€ç«™ï¼šæ—¥æœ¬æ±äº¬ ğŸ‡¯ğŸ‡µ
                            </p>
                        </div>
                    </div>

                    {/* å¿«é€Ÿå¤©æ°£é è¦½ */}
                    <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center justify-between">
                        <div>
                            <p className="text-gray-500 text-sm">ç›®å‰è¡Œç¨‹ä½ç½®</p>
                            <h3 className="text-xl font-bold text-gray-800">{currentDayData.location}</h3>
                            <p className="text-sm text-blue-600 mt-1">{currentDayData.temp}</p>
                        </div>
                        <div className="flex flex-col items-center">
                            <WeatherIcon type={currentDayData.weather} />
                            <span className="text-xs text-gray-500 mt-1 capitalize">{currentDayData.weather}</span>
                        </div>
                    </div>

                    {/* å¿«é€Ÿæé†’ */}
                    <div className="bg-orange-50 border border-orange-100 rounded-xl p-4">
                        <h4 className="font-bold text-orange-800 flex items-center gap-2 mb-2">
                            <Icon name="Info" className="w-4 h-4" /> è¡Œå‰æé†’
                        </h4>
                        <ul className="text-sm text-orange-700 space-y-1 list-disc pl-4">
                            <li>Day 6 è—ç‹åˆ°ä»™å°äº¤é€šå·²ç‚ºæ‚¨è¦åŠƒå®Œç•¢ã€‚</li>
                            <li>è—ç‹å±±é ‚æ¥µå†·ï¼Œè«‹å‚™å¦¥é˜²æ°´é˜²é¢¨è£å‚™ã€‚</li>
                            <li>éƒ¨åˆ†é¤å»³å»ºè­°æå‰é ç´„ (å¦‚æ¾€è°·SKY)ã€‚</li>
                        </ul>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = React.useState('dashboard');
            const [expandedDay, setExpandedDay] = React.useState(1);
            const [today, setToday] = React.useState(new Date());

            const tripStartDate = new Date('2025-12-15T00:00:00');
            const diffTime = tripStartDate - today;
            const daysUntil = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            let currentDisplayDayIndex = 0;
            if (daysUntil <= 0) {
                currentDisplayDayIndex = Math.min(Math.abs(daysUntil), tripData.length - 1);
            }
            const currentDayData = tripData[currentDisplayDayIndex];

            return (
                <div className="max-w-md mx-auto bg-gray-50 min-h-screen pb-24 relative font-sans">
                    {/* Header */}
                    <div className="bg-white p-4 sticky top-0 z-50 border-b border-gray-100 shadow-sm flex justify-between items-center">
                        <div>
                            <h1 className="text-lg font-extrabold text-gray-800">æ—¥æœ¬æ±åŒ—æ»‘é›ªè¡Œ ğŸ¿</h1>
                            <p className="text-xs text-gray-500">{today.toLocaleDateString()}</p>
                        </div>
                        <button 
                            onClick={() => setActiveTab('dashboard')} 
                            className="p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition"
                        >
                            <div className="text-gray-600"><Icon name="Clock" className="w-5 h-5" /></div>
                        </button>
                    </div>

                    {/* Main Content */}
                    <div className="p-4">
                        {activeTab === 'dashboard' ? (
                            <Dashboard currentDayData={currentDayData} daysUntil={daysUntil} />
                        ) : (
                            <div className="space-y-4">
                                <h2 className="font-bold text-gray-800 text-lg mb-4">æ¯æ—¥è©³ç´°è¡Œç¨‹</h2>
                                {tripData.map((day) => (
                                    <DayCard 
                                        key={day.day} 
                                        dayData={day} 
                                        isExpanded={expandedDay === day.day}
                                        onToggle={() => setExpandedDay(day.day === expandedDay ? null : day.day)}
                                    />
                                ))}
                            </div>
                        )}
                    </div>

                    {/* Bottom Navigation */}
                    <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-6 py-3 flex justify-around z-50 max-w-md mx-auto shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
                        <button 
                            onClick={() => setActiveTab('dashboard')}
                            className={`flex flex-col items-center gap-1 ${activeTab === 'dashboard' ? 'text-blue-600' : 'text-gray-400'}`}
                        >
                            <div className={`p-1 rounded-full ${activeTab === 'dashboard' ? 'bg-blue-50' : ''}`}>
                                <Icon name="Clock" className="w-6 h-6" />
                            </div>
                            <span className="text-xs font-medium">ç¸½è¦½</span>
                        </button>
                        <button 
                            onClick={() => setActiveTab('itinerary')}
                            className={`flex flex-col items-center gap-1 ${activeTab === 'itinerary' ? 'text-blue-600' : 'text-gray-400'}`}
                        >
                            <div className={`p-1 rounded-full ${activeTab === 'itinerary' ? 'bg-blue-50' : ''}`}>
                                <Icon name="Calendar" className="w-6 h-6" />
                            </div>
                            <span className="text-xs font-medium">è¡Œç¨‹è¡¨</span>
                        </button>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>